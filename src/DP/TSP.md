## TSP (Traveling Salesman Problem, μ™Ένμ› μν λ¬Έμ ) π΅ Gold I
λΉ„νΈλ§μ¤ν‚Ή + DPλ΅ λ¨λ“  λ„μ‹λ¥Ό ν• λ²μ”© μνν•κ³  λ‹¤μ‹ μ‹μ‘ λ„μ‹λ΅ λμ•„μ¤λ” μµμ† λΉ„μ©μ„ κ³„μ‚°ν•λ” μ•κ³ λ¦¬μ¦

μ‹κ°„λ³µμ΅λ„ : O(NΒ² x $2^N$) (N : λ„μ‹μ μ, $2^N$ : κ°€λ¥ν• λ°©λ¬Έ μ΅°ν•©μ μ)

![](https://github.com/user-attachments/assets/64f58ba6-69b0-438a-8506-3c7a1472e300)

μ΄λ ‡κ² μ—°κ²°λ κ·Έλν”„μ—μ„ TSPλ¥Ό ν’€μ–΄λ³΄λ„λ΅ ν•μ.

![](https://github.com/user-attachments/assets/1d3ab93e-0e5d-4da4-abed-1960dd2fcd69)

μΌλ°μ μΈ DPμ™€ κ³Όμ •μ€ λΉ„μ·ν•μ§€λ§ λ°©λ¬Έν–λ‹¤κ³  κΈ°λ΅ν•λ” κ³µκ°„μ΄ λΉ„νΈν•„λ“λΌλ” μ°¨μ΄κ°€ μλ‹¤.  
0λ² λ„μ‹μ—μ„ νƒμƒ‰μ„ μ‹μ‘ν•μκ³  ν•μ.  
ν„μ¬ μ„μΉμ— μ„μ‹ λΉ„μ© (INF)λ¥Ό μ €μ¥ν•λ‹¤.  
λ°©λ¬Έν•μ§€ μ•μ€ μ μΌ λ²νΈκ°€ μ‘μ€ λ„μ‹μΈ(λΉ„νΈν•„λ“κ°€ 0μΈ λ„μ‹λ“¤) 1λ² λ„μ‹λ΅ μ΄λ™ν•λ‹¤.

![](https://github.com/user-attachments/assets/3312e43f-1e75-4f17-9322-abf0475a29d6)

1λ² λ„μ‹μ— λ„μ°©ν•λ‹¤.  
ν„μ¬ μ„μΉμ— μ„μ‹ λΉ„μ©μ„ μ €μ¥ν•λ‹¤.  
λ°©λ¬Έν•μ§€ μ•μ€ μ μΌ λ²νΈκ°€ μ‘μ€ λ„μ‹μΈ 2λ² λ„μ‹λ΅ μ΄λ™ν•λ‹¤.

![](https://github.com/user-attachments/assets/a1217a39-2f36-4bf6-958b-1fdb3a10969f)

2λ² λ„μ‹μ— λ„μ°©ν•λ‹¤.  
λ¨λ“  λ„μ‹μ— λ°©λ¬Έν–κ³  (visit == (1<<N)-1) 2λ² λ„μ‹μ—μ„ 0λ² λ„μ‹λ΅μ κΈΈμ΄ μκΈ° λ•λ¬Έμ— κ·Έ κΈΈμ λΉ„μ©μΈ 6μ„ μ €μ¥ν•λ‹¤ (μ—†μΌλ©΄ INF μ €μ¥).

![](https://github.com/user-attachments/assets/6feb6082-0e23-40db-a006-1be63559f2fd)

λ” μ΄μƒ λ°©λ¬Έν•  μ μλ” λ„μ‹κ°€ μ—†μ–΄μ„ 1λ² λ„μ‹λ΅ λμ•„μ¨λ‹¤.  
λ°©κΈ κ°”λ‹¤μ™”λ 1 -> 2 κ²½λ΅κ°€ κΈ°μ΅΄ κ²½λ΅λ³΄λ‹¤ λΉ„μ©μ΄ μ κΈ°μ— κ²½λ΅λ¥Ό μ—…λ°μ΄νΈν•λ‹¤.

![](https://github.com/user-attachments/assets/44ff15c3-2def-45c0-86cb-e3bff6bb78f2)

λ” μ΄μƒ λ°©λ¬Έν•  μ μλ” λ„μ‹κ°€ μ—†μ–΄μ„ 0λ² λ„μ‹λ΅ λμ•„μ¨λ‹¤.  
λ°©κΈ κ°”λ‹¤μ™”λ 0 -> 1 κ²½λ΅κ°€ κΈ°μ΅΄ κ²½λ΅λ³΄λ‹¤ λΉ„μ©μ΄ μ κΈ°μ— κ²½λ΅λ¥Ό μ—…λ°μ΄νΈν•λ‹¤.  
μ΄λ²μ—λ” 0 -> 2λ² κ²½λ΅λ¥Ό νƒμƒ‰ν•λ‹¤.

![](https://github.com/user-attachments/assets/21eef713-2313-4494-98c7-041cfca59c26)

2λ² λ„μ‹μ— λ„μ°©ν•λ‹¤.  
ν„μ¬ μ„μΉμ— μ„μ‹ λΉ„μ©μ„ μ €μ¥ν•λ‹¤.  
λ°©λ¬Έν•μ§€ μ•μ€ μ μΌ λ²νΈκ°€ μ‘μ€ λ„μ‹μΈ 1λ² λ„μ‹λ΅ μ΄λ™ν•λ‹¤.

![](https://github.com/user-attachments/assets/9db25bcf-088b-4254-b863-5d082f603a4b)

1λ² λ„μ‹μ— λ„μ°©ν•λ‹¤.  
λ¨λ“  λ„μ‹μ— λ°©λ¬Έν–κ³  1λ² λ„μ‹μ—μ„ 0λ² λ„μ‹λ΅μ κΈΈμ΄ μκΈ° λ•λ¬Έμ— κ·Έ κΈΈμ λΉ„μ©μΈ 5λ¥Ό μ €μ¥ν•λ‹¤.

![](https://github.com/user-attachments/assets/d4ac69d9-270c-4b40-99b2-6720ff562af4)

λ” μ΄μƒ λ°©λ¬Έν•  μ μλ” λ„μ‹κ°€ μ—†μ–΄μ„ 2λ² λ„μ‹λ΅ λμ•„μ¨λ‹¤.  
λ°©κΈ κ°”λ‹¤μ™”λ 2 -> 1 κ²½λ΅κ°€ κΈ°μ΅΄ κ²½λ΅λ³΄λ‹¤ λΉ„μ©μ΄ μ κΈ°μ— κ²½λ΅λ¥Ό μ—…λ°μ΄νΈν•λ‹¤.

![](https://github.com/user-attachments/assets/85ea214b-b747-475a-9bad-8894b60e44a6)

λ” μ΄μƒ λ°©λ¬Έν•  μ μλ” λ„μ‹κ°€ μ—†μ–΄μ„ 0λ² λ„μ‹λ΅ λμ•„μ¨λ‹¤.  
λ°©κΈ κ°”λ‹¤μ™”λ 0 -> 2 κ²½λ΅κ°€ κΈ°μ΅΄ κ²½λ΅λ³΄λ‹¤ λΉ„μ©μ΄ ν¬κΈ°μ— κ²½λ΅λ¥Ό μ—…λ°μ΄νΈν•μ§€ μ•λ”λ‹¤.  
λ¨λ“  κ²½λ΅λ¥Ό λ°©λ¬Έν–κΈ°μ— μΆ…λ£ν•λ‹¤. (TSPμ μµμ† λΉ„μ©μ€ dp[0][1])

[μ—°μµ λ¬Έμ  (λ°±μ¤€ 2098λ²)](https://www.acmicpc.net/problem/2098)

``` c++
/** https://www.acmicpc.net/source/share/d95a2d2c96f644929d3c3c380fde08a5 μ μ¶ μ½”λ“ */
#include<bits/stdc++.h>
using namespace std;

/** 
 * INF : λ€λµ 10μ–µ
 * w[i][j] : iλ²μ—μ„ jλ²μΌλ΅ κ°€κΈ° μ„ν• λΉ„μ©
 * w[i][j]μ™€ w[j][i]λ” μ„λ΅ λ‹¤λ¥Ό μ μμ.
 * dp[i][k] : iλ¥Ό λ§μ§€λ§‰μΌλ΅ λ°©λ¬Έν–μ„ λ•, λ°©λ¬Έν• λ„μ‹λ“¤μ μ§‘ν•©μ΄ kμΈ κ²½μ°μ μµμ† λΉ„μ©. kλ” nλΉ„νΈλ΅ λ‚νƒ€λƒ„ (λΉ„νΈλ§μ¤ν‚Ή)
 */
const int INF = 0x3f3f3f3f;
int n, w[16][16], dp[16][1<<16];

/** 
 * visit: ν„μ¬κΉμ§€ λ°©λ¬Έν• λ„μ‹λ“¤μ λΉ„νΈ λ§μ¤ν¬ (visitμ΄ μ΄μ§„μλ΅ 10011μ΄λ©΄ 0, 1, 4λ² λ„μ‹λ¥Ό λ°©λ¬Έν•¨)
 * dp[cur][visit] : ν„μ¬ λ„μ‹κ°€ curμ΄κ³ , λ°©λ¬Έν• λ„μ‹ μ§‘ν•©μ΄ visitμΌ λ• μµμ† λΉ„μ©
 * 
 * λ¨λ“  μΆ…λ¥λ¥Ό λ‹¤ μ„ νƒν• κ²½μ° (visit == 2^n-1) λ§μ§€λ§‰ λ„μ‹μ—μ„ μ²«λ²μ§Έ λ„μ‹λ΅ κ°€λ” κ²½λ΅κ°€ μ΅΄μ¬ν•λ©΄ κ·Έ λΉ„μ©μ„ return.
 * μ΄λ―Έ λ°©λ¬Έν• μ΅°ν•©μΈ κ²½μ° (dp[cur][visit]!=-1) : μ΄λ―Έ κ³„μ‚°λ μµμ† λΉ„μ© return.
 * κ·Έλ ‡μ§€ μ•μ€ κ²½μ°λ” ν„μ¬ λ„μ‹ ~ λ§μ§€λ§‰ λ„μ‹κΉμ§€μ μµμ† λΉ„μ©μ„ κ³„μ‚°ν•μ—¬ μ €μ¥.
 */
int dfs(int cur, int visit) {
    if(visit == (1<<n)-1) return (w[cur][0]==0 ? INF : w[cur][0]);
    if(dp[cur][visit]!=-1) return dp[cur][visit];
    dp[cur][visit] = INF;
    for(int next=0;next<n;next++) {
        if(!(visit & (1<<next)) && w[cur][next]) {
            dp[cur][visit] = min(dp[cur][visit], dfs(next, visit | (1<<next)) + w[cur][next]);
        }
    }
    return dp[cur][visit];
}

int main() {
    ios::sync_with_stdio(0); cin.tie(0);
    cin >> n;
    for(int i=0;i<n;i++) {
        for(int j=0;j<n;j++) {
            cin >> w[i][j];
        }
    }
    memset(dp, -1, sizeof dp);
    cout << dfs(0, 1);
}
```
